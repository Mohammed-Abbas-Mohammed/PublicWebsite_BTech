<div class="card m-3 p-5 shadow-sm">
  <div class="categories-container">
    <div>
      <p class="d-inline-flex gap-1">
        <button type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false"
          aria-controls="collapseExample" *ngFor="let category of categories" class="category-item"
          [class.selected]="category.id === selectedCategoryId" (click)="selectCategory(category.id)">
          {{ category.categoryName }}
        </button>
      </p>

      <div class="collapse" id="collapseExample">

        <div class="card card-body">
          <div class="d-inline-flex gap-1" *ngIf="products && products.length > 0; else noProducts">
            <div *ngFor="let productItem of products" class="card product-card"
              (click)="openProductDetails(productItem)">
              <h5 class="card-title">{{ productItem.product.translations?.length > 0 ?
                productItem.product.translations[isArabic ? 1 : 0]?.name  : 'No name available' }}</h5>
              <p class="price">{{ getFormattedPrice(productItem.product.price )}} </p>
              <img *ngIf="productItem.product.images?.length > 0" [src]="productItem.product.images[0].url"
                alt="{{ productItem.product.translations?.length > 0 ? productItem.product.translations[isArabic ? 1 : 0]?.name : 'Product Image' }}" />
            </div>
          </div>
          <ng-template #noProducts>
            <p>No products found for the selected category.</p>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>
